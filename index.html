<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=400">
    <title>Two.js</title>
    <!-- @font-face -->
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,400italic">
    <script type="text/javascript" src="//use.typekit.net/edp1hux.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <!-- Styles -->
    <link rel="stylesheet" type="text/css" href="./styles/main.css">
    <link rel="shortcut icon" type="image/gif" href="./images/favicon.gif">
    <!-- Third Party -->
    <script src="./third-party/jquery.js"></script>
    <script src="./third-party/tween.js"></script>
    <script src="./third-party/two.js"></script>
    <!-- Code Mirror Goodies -->
    <script src="./third-party/codemirror.js"></script>
    <script src="./third-party/javascript.js"></script>
    <script>

      function addEditor(selector) {

        _.delay(function() {

          var parent = $(selector);
          var code = parent.find('script').html();
          var domElement = parent.find('svg');
          var mirror = CodeMirror(parent[0], {
            value: code,
            mode: "javascript",
            tabSize: 2,
            lineWrapping: true,
            lineNumbers: true
          });

          parent.find('.two-container').height(domElement.height());

          var doc = mirror.getDoc();

          var update = _.debounce(function() {
            code = doc.getValue();
            try {
              domElement.remove();
              eval(code); // yikes!
              domElement = parent.find('svg');
            } catch (e) {
              console.log(e);
            }
          }, 1000);

          mirror.on('change', update);

        }, 100);

      }

    </script>
  </head>
  <body>
    <div id="content">
      <div id="introduction">
        <script>
$(function() {

  var $container = $('#introduction');

  var two = new Two({
    width: 285,
    height: 80,
    type: Two.Types.svg
  }).appendTo($container[0]);

  var width = 44, height = 64;
  var half_width = width / 2;
  var quart_width = half_width / 2;
  var half_height = height / 2;
  var quart_height = half_height / 2;

  var t = makeT(255, 64, 64);
  t.scale = 0;
  t.translation.x = - width * 1.33;

  var w = makeW(255, 128, 0);
  w.scale = 0;
  w.translation.x = 0;

  var o = makeO(0, 191, 168);
  o.scale = 0;
  o.translation.x = width * 1.33;

  var group = two.makeGroup(t, w, o);
  group.translation.set(two.width / 2, two.height / 2);
  group.scale = 3 * (285 / 486);

  t.scale = w.scale = o.scale = 0;

  two
    .bind('update', function(frames) {

      var tScale = t.scale;

      if (tScale >= 1.0 - 0.0001) {
        two.pause();
        return;
      }

      var s = tScale + (1.0 - tScale) * 0.2;
      t.scale = s;
      w.scale = s;
      o.scale = s;

    });

    _.defer(_.bind(two.play, two));

    function makeT(r, g, b) {

      var a = two.makeRectangle(0, 0, width, quart_width);
      var c = two.makeRectangle(0, 0, quart_width, width);
      var rgb = r +',' + g + ',' + b;

      a.fill = c.fill = 'rgba(' + rgb + ',' + 0.33 + ')';
      a.stroke = c.stroke = 'rgb(' + rgb + ')';
      a.linewidth = c.linewidth = 1;

      return two.makeGroup(a, c);

    }

    function makeW(r, g, b) {

      var x1 = 0, y1 = height * 0.3125;
      var x2 = half_width, y2 = - y1;
      var x3 = - x2, y3 = y2;

      var a = two.makePolygon(x1, y1, x2, y2, x3, y3);
      var c = two.makePolygon(x1, y1, x2, y2, x3, y3);

      a.translation.x = - width * 0.25;
      c.translation.set(a.translation.x + half_width, a.translation.y);

      var rgb = Math.round(r) +',' + Math.round(g) + ',' + Math.round(b);

      a.fill = c.fill = 'rgba(' + rgb + ',' + 0.33 + ')';
      a.stroke = c.stroke = 'rgb(' + rgb + ')';
      a.linewidth = c.linewidth = 1;

      return two.makeGroup(a, c);

    }

    function makeO(r, g, b) {

      var a = two.makeCircle(0, 0, half_width);
      var c = two.makeCircle(0, 0, width * 0.125);
      var rgb = Math.round(r) +',' + Math.round(g) + ',' + Math.round(b);

      a.fill = c.fill = 'rgba(' + rgb + ',' + 0.33 + ')';
      a.stroke = c.stroke = 'rgb(' + rgb + ')';
      a.linewidth = c.linewidth = 1;

      return two.makeGroup(a, c);

    }

});</script>
      </div>
      <p>
        <strong>Two.js</strong> is a two-dimensional drawing api geared towards modern web browsers. It is renderer agnostic enabling the same api to draw in multiple contexts: <code>svg</code>, <code>canvas</code>, and <code>webgl</code>.
      </p>
      <div class="horizon"></div>
      <ul id="toc">
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#download">Download</a></li>
        <li><a href="#overview">Overview</a></li>
        <li><a href="#basic-usage">Basic Usage</a></li>
        <li><a href="#examples">Examples</a></li>
        <li><a href="#documentation">Documentation</a></li>
        <li><a href="#compatability">Compatability</a></li>
        <li><a href="#credits">Credits</a></li>
      </ul>
      <div id="download" class="horizon"></div>
      <h2>Download</h2>
      <p class="download">
        <a href="https://raw.github.com/jonobr1/two.js/master/build/two.js">Development Version</a><br />
        Uncompressed with comments about <code>128kb</code>
      </p>
      <p class="download">
        <a href="https://raw.github.com/jonobr1/two.js/master/build/two.min.js">Production Version</a><br />
        Minified using Closure Compiler about <code>50kb</code>
      </p>
      <p class="download nota-bene">
        Two.js requires <a href="http://underscorejs.org">Underscore.js</a> and <a href="http://backbonejs.org">Backbone.js</a> <a href="https://github.com/jonobr1/two.js/blob/master/third-party/events.js">Events</a>. If you&apos;re already loading these files elsewhere then you can build the project yourself and get the file size even smaller. For more information on <em>custom builds</em> check out the source on <a href="http://github.com/jonobr1/two.js">github</a>.
      </p>
      <div id="overview" class="horizon"></div>
      <h2>Overview</h2>
      <ul>
        <li>
          <h3>Focus on Vector Shapes</h3>
          <p>
            Two.js is deeply inspired by flat <a href="http://en.wikipedia.org/wiki/Motion_graphics">motion graphics</a>. As a result, two.js aims to make the creation and animation of flat shapes easier and more concise. At the time of this writing two.js unfortunately does <strong>not</strong> support text or images.
          </p>
        </li>
        <li>
          <h3>Scenegraph</h3>
          <p>
            At it&apos;s core two.js relies on a <a href="http://en.wikipedia.org/wiki/Scene_graph">scenegraph</a>. This means that when you draw or create an object (a <code>Two.Polygon</code> or <code>Two.Group</code>), two actually stores and remembers that. After you make the object you can apply any number of operations to it â€” e.g: <code>rotation</code>, <code>translation</code>, <code>scale</code>, etc..
          </p>
        </li>
        <li>
          <h3>Animation Loop</h3>
          <p>
            Two.js has a built in animation loop. It is simple in nature and can be automated or paired with another animation library. For more information check out the <a href="#examples">examples</a>.
          </p>
        </li>
        <li>
          <h3>SVG Interpreter</h3>
          <p>
            Two.js features a <code><a href="http://en.wikipedia.org/wiki/Scalable_Vector_Graphics">Scalable Vector Graphics</a> Interpreter</code>. This means developers and designers alike can create SVG elements in commercial applications like <a href="http://www.adobe.com/products/illustrator">Adobe Illustrator</a> and bring them into your two.js scene. For more information check out the <a href="#examples">examples</a>.
          </p>
        </li>
      </ul>
      <div id="basic-usage" class="horizon"></div>
      <h2>Basic Usage</h2>
      <p>
        In order to start any of these demos you&apos;ll want to <a href="#download">download</a> two.js and add it to your <code>&lt;html&gt;</code> document. Once downloaded add this tag to the <code>&lt;head&gt;</code> of your document: <code>&lt;script src=&quot;./path-to-two/two.js&quot;&gt;&lt;/script&gt;</code>. When you visit the page, you should be able to open up the <a href="https://developers.google.com/chrome-developer-tools/docs/console#opening_the_console">console</a> and type <code>Two</code>. If this returns a function then you&apos;re ready to begin!
      </p>
      <br />
      <div id="draw-shapes" class="basic-usage">
        <div class="two-container"></div>
        <h3>Drawing Your First Shapes</h3>
        <p>
          Before we get into all the fancy animating its good to get a feel for how to make shapes in two.js. In order to do this we need to have an instance of two. This sets up a dom element that contains either an <code>svg</code> or <code>canvas</code> element to add to the webpage. The two object has a <code>scene</code> whch holds all shapes as well as methods for creating shapes.
        </p>
        <p class="nota-bene">
          For a list of all properties and construction parameters check out the <a href="#documentation">documentation</a>.
        </p>
        <br />
        <script>// Make an instance of two and place it on the page.
var elem = document.getElementById('draw-shapes').children[0];
var params = { width: 285, height: 200 };
var two = new Two(params).appendTo(elem);

// two has convenience methods to create shapes.
var circle = two.makeCircle(72, 100, 50);
var rect = two.makeRectangle(213, 100, 100, 100);

// The object returned has many stylable properties:
circle.fill = '#FF8000';
circle.stroke = 'orangered'; // Accepts all valid css color
circle.linewidth = 5;

rect.fill = 'rgb(0, 200, 255)';
rect.opacity = 0.75;
rect.noStroke();

// Don't forget to tell two to render everything
// to the screen
two.update();</script>
        <!-- Expose with CodeMirror -->
        <script>
          $(function() {
            addEditor('#draw-shapes');
          });
        </script>
      </div>
      <div id="draw-group" class="basic-usage">
        <div class="two-container"></div>
        <h3>Shapes and Groups</h3>
        <p>
          Adding shapes to groups makes managing multiple shapes easier and more sane. Group&apos;s provide an easy way to move your content through <code>translation</code>, <code>rotation</code>, and <code>scale</code>. These operations emit from the coordinate space <code>(0, 0)</code>. In the example below we can see that the initial orientation of the circle and rectangle changed from the first example. These shapes are oriented around <code>(0, 0)</code>, which allows us to transform the group around the center of the shapes. In addition Group&apos;s styling operations trickle down and apply to each shape.
        </p>
        <p class="nota-bene">
          All rendered objects in two.js are a child of a group. Every two instance has a property <a href="#documentation"><code>scene</code></a>. This property is a root-level <a href="#documentation"><code>Two.Group</code></a> and can act as a camera through the same transformations described above.
        </p>
        <br />
        <script>var elem = document.getElementById('draw-group').children[0];
var two = new Two({ width: 285, height: 200 }).appendTo(elem);

var circle = two.makeCircle(-70, 0, 50);
var rect = two.makeRectangle(70, 0, 100, 100);
circle.fill = '#FF8000';
circle.stroke = 'orangered';
rect.fill = 'rgba(0, 200, 255, 0.75)';
rect.stroke = '#1C75BC';

// Groups can take an array of shapes and/or groups.
var group = two.makeGroup(circle, rect);

// And have translation, rotation, scale like all shapes.
group.translation.set(two.width / 2, two.height / 2);
group.rotation = Math.PI;
group.scale = 0.75;

// You can also set all properties a shape have.
group.linewidth = 7;

two.update();</script>
        <script>
          $(function() {
            addEditor('#draw-group');
          });
        </script>
      </div>
      <br />
      <div id="draw-animation" class="basic-usage">
        <div class="two-container"></div>
        <h3>Adding Motion</h3>
        <p>
          Finally, let&apos;s add some motion to our shapes. So far the examples use <code>two.update();</code> to draw content to the screen. The instance of two.js has two particular methods for animation. The first is <code>two.play();</code> which calls <code>two.update();</code> at 60fps. This rate, however, will slowdown if there&apos;s too much content to render per frame.
        </p>
        <p>
          The second method is <code>two.bind();</code> This method takes a <code>string</code> as it&apos;s first parameter indicating what event to listen to and a <code>function</code> as it&apos;s second argument delineating what to do when the event described in the first parameter happens. To sync a function with the animation loop simply invoke <code>two.bind('update', referenceToFunction);</code> as outlined below:
        </p>
        <p class="nota-bene">
          For a complete list of events that can be bound to an instance of two check out the <a href="#documentation">documentation</a>.
        </p>
        <br />
        <script>var elem = document.getElementById('draw-animation').children[0];
var two = new Two({ width: 285, height: 200 }).appendTo(elem);

var circle = two.makeCircle(-70, 0, 50);
var rect = two.makeRectangle(70, 0, 100, 100);
circle.fill = '#FF8000';
rect.fill = 'rgba(0, 200, 255, 0.75)';

var group = two.makeGroup(circle, rect);
group.translation.set(two.width / 2, two.height / 2);
group.scale = 0;
group.noStroke();

// Bind a function to scale and rotate the group
// to the animation loop.
two.bind('update', function(frameCount) {
  // This code is called everytime two.update() is called.
  // Effectively 60 times per second.
  if (group.scale > 0.9999) {
    group.scale = group.rotation = 0;
  }
  var t = (1 - group.scale) * 0.125;
  group.scale += t;
  group.rotation += t * 4 * Math.PI;
}).play();  // Finally, start the animation loop</script>
        <script>
          $(function() {
            addEditor('#draw-animation')
          });
        </script>
      </div>
      <div id="examples" class="horizon"></div>
      <h2>Examples</h2>
      <ul class="examples">
        <li>
          <a href="./examples/animate-in-out.html">
            <img width="143" height="100" src="../images/fresh.gif" alt="">
            <h3>Animate Strokes</h3>
          </a>
        </li>
      </ul>
      <div id="documentation" class="horizon"></div>
      <h2>Documentation</h2>
      <div id="compatability" class="horizon"></div>
      <h2>Compatability</h2>
      <div id="credits" class="horizon"></div>
      <h2>Credits</h2>

    </div>
  </body>
</html>